<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <title>Web Components / Material UI Design</title>
    <link rel="stylesheet" href="./index.css" />
    <!-- <script type="module" src="../script/index.js"></script> -->

    <link rel="import" href="components/button"   id="material-button" />
    <link rel="import" href="components/input"    id="material-input" />
    <link rel="import" href="components/switch"   id="material-switch" />
    <link rel="import" href="components/checkbox" id="material-checkbox" />
    <link rel="import" href="components/radio"    id="material-radio" />
    <link rel="import" href="components/chip"     id="material-chip" />
    <link rel="import" href="components/expand"   id="material-expand" />
    <link rel="import" href="components/tabs"     id="material-tabs" />
  </head>
  <body>
    <aside>
      <header>
        <a href="#">Material</a>
      </header>

      <a href="#button">Кнопки</a>
      <a href="#input">Поля ввода</a>
      <a href="#toggle">Переключатели</a>
      <a href="#chips">Теги</a>
      <a href="#expand">Спойлеры</a>
      <a href="#tabs">Вкладки</a>
    </aside>

    <main>
      <section id="button">
        <h3>Кнопки</h3>
        <article>
          <h4>Основные</h4>
          <div class="source">
            <material-button>Default</material-button>
            <material-button type="primary">Primary</material-button>
            <material-button type="secondary">Secondary</material-button>
            <material-button type="dark">Dark</material-button>
            <material-button type="light">Light</material-button>
          </div>

          <h4>Действия</h4>
          <div class="source">
            <material-button type="success">Success</material-button>
            <material-button type="process">Process</material-button>
            <material-button type="warning">Warning</material-button>
            <material-button type="failure">Failure</material-button>
          </div>

          <h4>Информационные</h4>
          <div class="source">
            <material-button type="info">Info</material-button>
            <material-button type="details">Details</material-button>
            <material-button type="accent">Accent</material-button>
            <material-button type="alert">Alert</material-button>
            <material-button type="error">Error</material-button>
          </div>
        </article>
      </section>

      <section id="input">
        <h3>Поля ввода</h3>
        <article>
          <div class="source">
            <material-input>Текстовое поле</material-input>
          </div>
        </article>
      </section>

      <section id="toggle">
        <h3>Переключатели</h3>
        <article>
          <h4>switch</h4>
          <div class="source">
            <material-switch></material-switch>
          </div>
        </article>

        <article>
          <h4>checkbox</h4>
          <div class="source">
            <material-checkbox></material-checkbox>
          </div>
        </article>

        <article>
          <h4>radio</h4>
          <div class="source">
            <material-radio></material-radio>
          </div>
        </article>
      </section>

      <section id="chips">
        <h3>Теги</h3>
        <article>
          <div class="source">
            <material-chip>chip</material-chip>
          </div>
        </article>
      </section>

      <section id="expand">
        <h3>Разворачиваемые блоки</h3>
        <article>
          <h4>Expand</h4>
          <div class="source">
            <material-expand summary="Разворачиваемая панель" description="Дополнительная информация">
              Скрытое содержимое
            </material-expand>
          </div>
        </article>

        <article>
          <h4>Accordion</h4>

        </article>
      </section>

      <section id="tabs">
        <h3>Вкладки</h3>
        <article>
          <div class="source">
            <material-tabs>
              <button slot="title">Tab 1</button>
              <section>content panel 1</section>

              <button slot="title" selected>Tab 2</button>
              <section>content panel 2</section>

              <button slot="title">Tab 3</button>
              <section>content panel 3</section>
            </material-tabs>
          </div>

          <!-- Using <a> instead of h2 still works! -->
          <!-- <material-tabs>
            <a slot="title">Title 1</a>
            <a slot="title" selected>Title 2</a>
            <a slot="title">Title 3</a>
            <section>content panel 1</section>
            <section>content panel 2</section>
            <section>content panel 3</section>
          </material-tabs> -->
        </article>
      </section>

      <section id="default">
        <h1>Material UI Design Web Components Library</h1>
      </section>
    </main>

    <script type="module">
      document.querySelector('material-expand').addEventListener('expand-event', e => {
        console.log(event);
      })


      // [...document.querySelectorAll('material-button')].forEach(b => b.addEventListener('click', e => console.log(e)));
      const links = [...document.querySelectorAll('aside a')];
      links.forEach(link => {
        link.addEventListener('click', _ => {
          links.forEach(e => e.classList.remove('active'));
          link.classList.add('active');
        })
      });

      const source = [...document.querySelectorAll('.source')];
      source.forEach(example => {
        const raw = example.innerHTML.split('\n')
          .map(s => s.trimRight()).filter(s => s.length)
          .map(s => ({indent: s.length - s.trim().length, line: s}))
            .reduce((aggr, item) => ({indent: Math.min(item.indent, aggr.indent), lines: aggr.lines.concat(item.line)}), {indent: Infinity, lines: []});
        const code = raw.lines.map(s => s.slice(raw.indent)).join('\n');
        const view = document.createElement('pre');
        view.innerText = code;
        example.parentNode.insertBefore(view, example.nextSibling);
      })
    </script>
  </body>
</html>
